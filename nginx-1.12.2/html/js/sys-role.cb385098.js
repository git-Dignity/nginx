(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sys-role"],{"59ac":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=function(e,t,a,s){return e/=s/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)},i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),r=function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e},l=function(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop},o=function(e,t,a){var o=l(),n=e-o,c=20,u=0;t="undefined"===typeof t?500:t;var p=function e(){u+=c;var l=s(u,o,n,t);r(l),u<t?i(e):a&&"function"===typeof a&&a()};p()}},"9cd7":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("f3dd"),a("ecb4"),a("fe8a");function s(e,t){if(null==e)return{};var a,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||(i[a]=e[a]);return i}function i(e,t){if(null==e)return{};var a,i,r=s(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)a=l[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}},b8cb:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v(" "+e._s(e.$t("table.add"))+" ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","default-sort":{prop:"isSys",order:"descending"}}},[a("el-table-column",{attrs:{prop:"name",label:"角色名称",width:"180"}}),a("el-table-column",{attrs:{prop:"enName",label:"英文名称",width:"180"}}),a("el-table-column",{attrs:{prop:"roleType",label:"角色类型",formatter:e.formatterType}}),a("el-table-column",{attrs:{prop:"isSys",sortable:"",label:"是否系统数据",formatter:e.formatterIsSys}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.tempSysRoleData,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:e.$t("sys.roleName"),prop:"roleName"}},[a("el-input",{model:{value:e.tempSysRoleData.roleName,callback:function(t){e.$set(e.tempSysRoleData,"roleName",t)},expression:"tempSysRoleData.roleName"}})],1),a("el-form-item",{attrs:{label:e.$t("sys.enName"),prop:"enName"}},[a("el-input",{model:{value:e.tempSysRoleData.enName,callback:function(t){e.$set(e.tempSysRoleData,"enName",t)},expression:"tempSysRoleData.enName"}})],1),a("el-form-item",{attrs:{label:e.$t("sys.roleType"),prop:"roleType"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.tempSysRoleData.roleType,callback:function(t){e.$set(e.tempSysRoleData,"roleType",t)},expression:"tempSysRoleData.roleType"}},e._l(e.calendarTypeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.displayName,value:e.key}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("sys.isSys")}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.tempSysRoleData.isSys,callback:function(t){e.$set(e.tempSysRoleData,"isSys",t)},expression:"tempSysRoleData.isSys"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.displayName,value:e.key}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("sys.remarks")}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Please input"},model:{value:e.tempSysRoleData.remarks,callback:function(t){e.$set(e.tempSysRoleData,"remarks",t)},expression:"tempSysRoleData.remarks"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("table.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" "+e._s(e.$t("table.confirm"))+" ")])],1)],1)],1)},i=[],r=a("9cd7"),l=(a("b449"),a("17d6")),o=a("4324"),n=a("1b6a"),c=a("a549"),u=a("7ae9"),p=a("0a8e"),m=a("4bb7"),d=a("391c"),y=a("b32d"),f={id:"",roleName:"",enName:"",roleType:"",isSys:"否",remarks:""},b=function(e){return Object(y["a"])({url:"/role/getRole",method:"get",params:e})},g=function(e){return Object(y["a"])({url:"/role/save",method:"post",data:e})},h=a("333d"),v=[{key:"assignment",displayName:"任务分配"},{key:"security-role",displayName:"管理角色"},{key:"user",displayName:"普通角色"}],k=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.tableKey=0,e.list=[],e.total=0,e.listLoading=!0,e.listQuery={page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},e.importanceOptions=[1,2,3],e.calendarTypeOptions=v,e.sortOptions=[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],e.statusOptions=[{key:0,displayName:"否"},{key:1,displayName:"是"}],e.showReviewer=!1,e.dialogFormVisible=!1,e.dialogStatus="",e.textMap={update:"Edit",create:"Create"},e.dialogPageviewsVisible=!1,e.pageviewsData=[],e.rules={type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},e.downloadLoading=!1,e.tempSysRoleData=f,e}return Object(n["a"])(a,[{key:"created",value:function(){this.getList(),console.log(this.list)}},{key:"getList",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.next=3,b(this.listQuery);case 3:t=e.sent,a=t.data,this.list=a.items,this.total=a.total,setTimeout((function(){s.listLoading=!1}),500);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleFilter",value:function(){this.listQuery.page=1,this.getList()}},{key:"formatterIsSys",value:function(e){var t="";switch(e.isSys){case this.statusOptions[0].key:t=this.statusOptions[0].displayName;break;case this.statusOptions[1].key:t=this.statusOptions[1].displayName;break}return t}},{key:"formatterType",value:function(e){var t="";switch(e.roleType){case"".concat(this.calendarTypeOptions[0].key):t=this.calendarTypeOptions[0].displayName;break;case"".concat(this.calendarTypeOptions[1].key):t=this.calendarTypeOptions[1].displayName;break;case"".concat(this.calendarTypeOptions[2].key):t=this.calendarTypeOptions[2].displayName;break}return t}},{key:"sortChange",value:function(e){var t=e.prop,a=e.order;"id"===t&&this.sortByID(a)}},{key:"sortByID",value:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()}},{key:"getSortClass",value:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":t==="-".concat(e)?"descending":""}},{key:"resettempSysRoleData",value:function(){this.tempSysRoleData=Object(d["cloneDeep"])(f)}},{key:"handleCreate",value:function(){var e=this;this.resettempSysRoleData(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs.dataForm.clearValidate()}))}},{key:"createData",value:function(){var e=this;this.$refs.dataForm.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return s=e.tempSysRoleData,s.id,i=Object(r["a"])(s,["id"]),t.next=4,g({article:i});case 4:t.sent,e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),a}(m["c"]);k=Object(p["a"])([Object(m["a"])({name:"sysRole",components:{Pagination:h["a"]}})],k);var S=k,w=S,O=a("e90a"),R=Object(O["a"])(w,s,i,!1,null,null,null);t["default"]=R.exports}}]);